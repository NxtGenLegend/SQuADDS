from squadds import Analyzer, SQuADDS_DB

db = SQuADDS_DB()
db.select_system(["qubit", "cavity_claw"])
db.select_qubit("TransmonCross")
db.select_cavity_claw("RouteMeander")
db.select_resonator_type("half")
db.show_selections()
half_df = db.create_system_df()

analyzer_hdf = Analyzer(db)  # Pass the configured db instance

target_params = {
                "qubit_frequency_GHz": 4,
                "cavity_frequency_GHz": 9.2,
                "kappa_kHz": 80,
                "resonator_type":"half",
                "anharmonicity_MHz": -200,
                "g_MHz": 70}

results_hdf = analyzer_hdf.find_closest(target_params=target_params, num_top=1, metric="Euclidean", parallel=True, num_cpu="auto")
